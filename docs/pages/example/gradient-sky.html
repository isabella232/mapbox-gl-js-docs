<div id="map"></div>
<script>
    // set up a style with terrain enabled
    var style = {
        'version': 8,
        'name': 'Mapbox Satellite',
        'metadata': {
            'mapbox:autocomposite': true,
            'mapbox:type': 'default'
        },
        'terrain': {
            'source': 'mapbox-dem',
            'exaggeration': 1.5
        },
        'sources': {
            'mapbox': {
                'type': 'raster',
                'url': 'mapbox://mapbox.satellite',
                'tileSize': 256
            },
            'mapbox-dem': {
                'type': 'raster-dem',
                'url': 'mapbox://mapbox.terrain-rgb',
                'tileSize': 512,
                'maxzoom': 14
            }
        },
        'center': [0, 0],
        'zoom': 3,
        'sprite': 'mapbox://sprites/mapbox/satellite-v9',
        'glyphs': 'mapbox://fonts/mapbox/{fontstack}/{range}.pbf',
        'layers': [
            {
                'id': 'background',
                'type': 'background',
                'paint': {
                    'background-color': 'rgb(4,7,14)'
                }
            },
            {
                'id': 'satellite',
                'type': 'raster',
                'source': 'mapbox',
                'source-layer': 'mapbox_satellite_full'
            }
        ],
        'created': '1970-01-01T00:00:00.000Z',
        'modified': '1970-01-01T00:00:00.000Z',
        'owner': 'mapbox',
        'id': 'satellite-v9',
        'draft': false,
        'visibility': 'public'
    };

    var map = new mapboxgl.Map({
        container: 'map',
        zoom: 15.5,
        center: [-122.423, 37.827],
        pitch: 80,
        bearing: 250,
        style: style,
        hash: true
    });

    map.on('load', function () {
        map.addLayer({
            'id': 'sky',
            'type': 'sky',
            'paint': {
                // set up the sky layer to use a color gradient
                'sky-type': 'gradient',
                // the sky will be lightest in the center and get darker moving radially outward
                // this simulates the look of the sun just below the horizon
                'sky-gradient': [
                    'interpolate',
                    ['linear'],
                    ['sky-radial-progress'],
                    0.8,
                    'rgba(135, 206, 235, 1.0)',
                    1,
                    'rgba(0,0,0,0.1)'
                ],
                'sky-gradient-center': [0, 0],
                'sky-gradient-radius': 90,
                'sky-opacity': [
                    'interpolate',
                    ['exponential', 0.1],
                    ['zoom'],
                    5,
                    0,
                    22,
                    1
                ]
            }
        });
    });
</script>
